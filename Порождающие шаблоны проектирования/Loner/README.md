# Одиночка
У страны может быть только один президент. Он должен действовать, когда того требуют обстоятельства и долг. В данном случае президент — одиночка.
<h3><strong>Вкратце</strong></h3>
Шаблон позволяет удостовериться, что создаваемый объект — единственный в своём классе.
<h3><strong>Википедия</strong></h3>

>Шаблон «Одиночка» позволяет ограничивать создание класса единственным объектом. Это удобно, когда для координации действий в рамках системы требуется, чтобы объект был единственным в своём классе.
На самом деле шаблон «Одиночка» считается антипаттерном, не следует им слишком увлекаться. Он необязательно плох и иногда бывает полезен. Но применяйте его с осторожностью, потому что «Одиночка» вносит в приложение глобальное состояние, так что изменение в одном месте может повлиять на все остальные случаи использования, а отлаживать такое — не самое простое занятие. Другие недостатки шаблона: он делает ваш код сильно связанным (tightly coupled), а создание прототипа (mocking) «Одиночки» может быть затруднено.

На самом деле шаблон «Одиночка» считается антипаттерном, не следует им слишком увлекаться. Он необязательно плох и иногда бывает полезен. Но применяйте его с осторожностью, потому что «Одиночка» вносит в приложение глобальное состояние, так что изменение в одном месте может повлиять на все остальные случаи использования, а отлаживать такое — не самое простое занятие. Другие недостатки шаблона: он делает ваш код сильно связанным (tightly coupled), а создание прототипа (mocking) «Одиночки» может быть затруднено.
<h3><strong>Пример</strong></h3>

Сделайте конструктор приватным, отключите расширения и создайте статическую переменную для хранения экземпляра:
```php
final class President{
    private static $instance;
    
    
    // Прячем конструктор
    private function __construct(){}

    // Отключаем клонирование
    private function __clone(){}

    // Отключаем десериализацию
    public function __wakeup(){}

    public static function getInstance() : President{
        if (!self::$instance){
            self::$instance = new self();
        }

        return self::$instance;
    }
}
```
<h3><strong>Использование</strong></h3>

```php
require_once ('President.php');

$president1 = President::getInstance();
$president2 = President::getInstance();

var_dump($president1 === $president2);
```

<div align="center">
    <h2> Структура проекта </h2>
    <img src="https://sun9-65.userapi.com/impg/1ccpSBTDCs4v_K9dyhTgL0TnRjhteX9TXcvHeg/cW6EcrWhpsw.jpg?size=266x266&quality=96&sign=8ee8ced2a8d74a696c6a6513092112b4&type=album" alt="SimpleFactory">
</div>
